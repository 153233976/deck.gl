<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <title>deck.gl Viewport Transition Example | WebGL visualization</title>
    <link rel="stylesheet" id="font-link" href="https://d1a3f4spazzrp4.cloudfront.net/uber-fonts/3.1.0/refresh.css">

    <meta name="description" content="WebGL-based visualization examples using deck.gl">

    <link rel="icon" type="img/ico" href="https://uber.github.io/deck.gl/favicon.ico">

    <!-— facebook open graph tags -->
    <meta property="og:url" content="https://uber.github.io/deck.gl/showcases/gallery" />
    <meta property="og:title" content="deck.gl Viewport Transition Example | WebGL visualization" />
    <meta property="og:description" content="WebGL-based visualization examples using deck.gl" />
    <meta property="og:site_name" content="deck.gl" />
    <meta property="og:image" content="https://uber.github.io/deck.gl/showcases/gallery/images/viewport-transition.jpg" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="800" />
    <meta property="og:image:height" content="480" />
    
    <!-— twitter card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@uber">
    <meta name="twitter:creator" content="@uber">
    <meta name="twitter:title" content="deck.gl Viewport Transition Example | WebGL visualization">
    <meta name="twitter:description" content="WebGL-based visualization examples using deck.gl">
    <meta name="twitter:image" content="https://uber.github.io/deck.gl/showcases/gallery/images/viewport-transition.jpg" />

    <style>
      body {font-family: ff-clan-web-pro, "Helvetica Neue", Helvetica, sans-serif !important; font-size: 12px;}
      #container {width: 100%; max-width: 960px; padding: 40px 12px; margin: auto;}
      #source {margin: 12px 0; border: solid 1px #ccc; padding: 24px}
      #links {margin: 12px 0;}
      #links a {text-decoration: none; color: #444;}
      #links a:hover {color: #08f;}
    </style>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-7157694-83', 'auto');
  ga('send', 'pageview');
</script>
  </head>
  <body>
    <div id="container">
      <h1>deck.gl Viewport Transition Example</h1>
      <div id="links">
        <a href="./">↩ Back to Gallery</a>
      </div>
      <h2>Demo</h2>
      <iframe width="100%" height="450" frameborder="0" src="data:text/html;charset=utf-8,%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3Edeck.gl%20Viewport%20Transition%20Example%3C/title%3E%0A%0A%20%20%20%20%3Cscript%20src=%22https://unpkg.com/deck.gl@%5E6.0.0/deckgl.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://d3js.org/d3.v5.min.js%22%3E%3C/script%3E%0A%0A%20%20%20%20%3Cscript%20src=%22https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js%22%3E%3C/script%3E%0A%0A%20%20%20%20%3Cstyle%20type=%22text/css%22%3E%0A%20%20%20%20%20%20body%20%7B%0A%20%20%20%20%20%20%20%20width:%20100vw;%0A%20%20%20%20%20%20%20%20height:%20100vh;%0A%20%20%20%20%20%20%20%20margin:%200;%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20#control-panel%20%7B%0A%20%20%20%20%20%20%20%20font-size:%2012px;%0A%20%20%20%20%20%20%20%20font-family:%20Helvetica,%20Arial,%20sans-serif;%0A%20%20%20%20%20%20%20%20position:%20absolute;%0A%20%20%20%20%20%20%20%20background:%20#fff;%0A%20%20%20%20%20%20%20%20top:%200;%0A%20%20%20%20%20%20%20%20left:%200;%0A%20%20%20%20%20%20%20%20margin:%2012px;%0A%20%20%20%20%20%20%20%20padding:%2020px;%0A%20%20%20%20%20%20%20%20line-height:%202;%0A%20%20%20%20%20%20%20%20z-index:%201;%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%3C/style%3E%0A%20%20%3C/head%3E%0A%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cdiv%20id=%22control-panel%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%3C/body%3E%0A%0A%20%20%3Cscript%20type=%22text/javascript%22%3E%0A%0A%20%20%20%20const%20%7BDeckGL,%20ScatterplotLayer,%20FlyToInterpolator%7D%20=%20deck;%0A%0A%20%20%20%20//%20Data%0A%20%20%20%20const%20CITIES%20=%20%5B%0A%20%20%20%20%20%20%7B%22city%22:%22San%20Francisco%22,%22state%22:%22California%22,%22latitude%22:37.7751,%22longitude%22:-122.4193%7D,%0A%20%20%20%20%20%20%7B%22city%22:%22New%20York%22,%22state%22:%22New%20York%22,%22latitude%22:40.6643,%22longitude%22:-73.9385%7D,%0A%20%20%20%20%20%20%7B%22city%22:%22Los%20Angeles%22,%22state%22:%22California%22,%22latitude%22:34.051597,%22longitude%22:-118.244263%7D,%0A%20%20%20%20%20%20%7B%22city%22:%22London%22,%22state%22:%22United%20Kingdom%22,%22latitude%22:51.5074,%22longitude%22:-0.1278%7D,%0A%20%20%20%20%20%20%7B%22city%22:%22Hyderabad%22,%22state%22:%22India%22,%22latitude%22:17.3850,%22longitude%22:78.4867%7D%0A%20%20%20%20%5D;%0A%0A%20%20%20%20//%20Deck%20canvas%0A%20%20%20%20const%20deckgl%20=%20new%20DeckGL(%7B%0A%20%20%20%20%20%20mapboxApiAccessToken:%20'pk.eyJ1IjoidWJlcmRhdGEiLCJhIjoiY2pwY3owbGFxMDVwNTNxcXdwMms2OWtzbiJ9.1PPVl0VLUQgqrosrI2nUhg',%0A%20%20%20%20%20%20mapStyle:%20'mapbox://styles/mapbox/light-v9',%0A%20%20%20%20%20%20viewState:%20%7B%0A%20%20%20%20%20%20%20%20longitude:%20CITIES%5B0%5D.longitude,%0A%20%20%20%20%20%20%20%20latitude:%20CITIES%5B0%5D.latitude,%0A%20%20%20%20%20%20%20%20zoom:%2010%0A%20%20%20%20%20%20%7D,%0A%20%20%20%20%20%20layers:%20%5B%0A%20%20%20%20%20%20%20%20new%20ScatterplotLayer(%7B%0A%20%20%20%20%20%20%20%20%20%20data:%20CITIES,%0A%20%20%20%20%20%20%20%20%20%20getPosition:%20d%20=%3E%20%5Bd.longitude,%20d.latitude%5D,%0A%20%20%20%20%20%20%20%20%20%20getColor:%20%5B255,%20180,%200%5D,%0A%20%20%20%20%20%20%20%20%20%20radiusMinPixels:%2010%0A%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D);%0A%0A%20%20%20%20//%20Create%20radio%20buttons%0A%20%20%20%20const%20inputs%20=%20d3.select('#control-panel').selectAll('div')%0A%20%20%20%20%20%20.data(CITIES)%0A%20%20%20%20%20%20.enter().append('div');%0A%0A%20%20%20%20inputs.append('input')%0A%20%20%20%20%20%20.attr('type',%20'radio')%0A%20%20%20%20%20%20.attr('name',%20'city')%0A%20%20%20%20%20%20.attr('id',%20(d,%20i)%20=%3E%20'city-'%20+%20i)%0A%20%20%20%20%20%20.on('change',%20d%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20deckgl.setProps(%7B%0A%20%20%20%20%20%20%20%20%20%20viewState:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20longitude:%20d.longitude,%0A%20%20%20%20%20%20%20%20%20%20%20%20latitude:%20d.latitude,%0A%20%20%20%20%20%20%20%20%20%20%20%20zoom:%2010,%0A%20%20%20%20%20%20%20%20%20%20%20%20transitionInterpolator:%20new%20FlyToInterpolator(),%0A%20%20%20%20%20%20%20%20%20%20%20%20transitionDuration:%205000%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20inputs.append('label')%0A%20%20%20%20%20%20.attr('for',%20(d,%20i)%20=%3E%20'city-'%20+%20i)%0A%20%20%20%20%20%20.text(d%20=%3E%20d.city%20+%20',%20'%20+%20d.state);%0A%0A%20%20%20%20//%20Default%20select%20the%20first%20city%0A%20%20%20%20inputs.select('input').node().checked%20=%20true;%0A%0A%20%20%3C/script%3E%0A%3C/html%3E%0A" ></iframe>
      <h2>Source</h2>
      <div id="source">
        <code class="prettyprint">&lt;html&gt;<br/>&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;deck.gl Viewport Transition Example&lt;/title&gt;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;script src="https://unpkg.com/deck.gl@^6.0.0/deckgl.min.js"&gt;&lt;/script&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;script src="https://d3js.org/d3.v5.min.js"&gt;&lt;/script&gt;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;script src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js"&gt;&lt;/script&gt;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;style type="text/css"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width: 100vw;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height: 100vh;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin: 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#control-panel {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size: 12px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family: Helvetica, Arial, sans-serif;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position: absolute;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background: #fff;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;top: 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;left: 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin: 12px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding: 20px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line-height: 2;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z-index: 1;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br/>&nbsp;&nbsp;&lt;/head&gt;<br/><br/>&nbsp;&nbsp;&lt;body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;div id="control-panel"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br/>&nbsp;&nbsp;&lt;/body&gt;<br/><br/>&nbsp;&nbsp;&lt;script type="text/javascript"&gt;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;const {DeckGL, ScatterplotLayer, FlyToInterpolator} = deck;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;// Data<br/>&nbsp;&nbsp;&nbsp;&nbsp;const CITIES = [<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"city":"San Francisco","state":"California","latitude":37.7751,"longitude":-122.4193},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"city":"New York","state":"New York","latitude":40.6643,"longitude":-73.9385},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"city":"Los Angeles","state":"California","latitude":34.051597,"longitude":-118.244263},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"city":"London","state":"United Kingdom","latitude":51.5074,"longitude":-0.1278},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"city":"Hyderabad","state":"India","latitude":17.3850,"longitude":78.4867}<br/>&nbsp;&nbsp;&nbsp;&nbsp;];<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;// Deck canvas<br/>&nbsp;&nbsp;&nbsp;&nbsp;const deckgl = new DeckGL({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapboxApiAccessToken: '&lt;mapbox-access-token&gt;',<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapStyle: 'mapbox://styles/mapbox/light-v9',<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;viewState: {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;longitude: CITIES[0].longitude,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;latitude: CITIES[0].latitude,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zoom: 10<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layers: [<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new ScatterplotLayer({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data: CITIES,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getPosition: d =&gt; [d.longitude, d.latitude],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getColor: [255, 180, 0],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radiusMinPixels: 10<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;});<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;// Create radio buttons<br/>&nbsp;&nbsp;&nbsp;&nbsp;const inputs = d3.select('#control-panel').selectAll('div')<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.data(CITIES)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.enter().append('div');<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;inputs.append('input')<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr('type', 'radio')<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr('name', 'city')<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr('id', (d, i) =&gt; 'city-' + i)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.on('change', d =&gt; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deckgl.setProps({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;viewState: {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;longitude: d.longitude,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;latitude: d.latitude,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zoom: 10,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transitionInterpolator: new FlyToInterpolator(),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transitionDuration: 5000<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;inputs.append('label')<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr('for', (d, i) =&gt; 'city-' + i)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.text(d =&gt; d.city + ', ' + d.state);<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;// Default select the first city<br/>&nbsp;&nbsp;&nbsp;&nbsp;inputs.select('input').node().checked = true;<br/><br/>&nbsp;&nbsp;&lt;/script&gt;<br/>&lt;/html&gt;<br/></code>
      </div>
    </div>
  </body>
</html>